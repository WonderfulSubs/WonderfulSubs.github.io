<!DOCTYPE html>
<html>

<head>
    <!-- Start Single Page Apps for GitHub Pages -->
    <script type="text/javascript">
        // Single Page Apps for GitHub Pages
        // https://github.com/rafrex/spa-github-pages
        // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
        // ----------------------------------------------------------------------
        // This script checks to see if a redirect is present in the query string
        // and converts it back into the correct url and adds it to the
        // browser's history using window.history.replaceState(...),
        // which won't cause the browser to attempt to load the new url.
        // When the single page app is loaded further down in this file,
        // the correct url will be waiting in the browser's history for
        // the single page app to route accordingly.
        (function (l) {
            if (l.search) {
                var q = {};
                l.search.slice(1).split('&').forEach(function (v) {
                    var a = v.split('=');
                    q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
                });
                if (q.p !== undefined) {
                    window.history.replaceState(null, null,
                        l.pathname.slice(0, -1) + (q.p || '') +
                        (q.q ? ('?' + q.q) : '') +
                        l.hash
                    );
                }
            }
        }(window.location))
    </script>
    <!-- End Single Page Apps for GitHub Pages -->

    <script>
        window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }, ga.l = +new Date, ga("create", "UA-84398451-4", "auto"), ga("require", "cleanUrlTracker", { stripQuery: !0, trailingSlash: "remove" }), ga("require", "pageVisibilityTracker", { sendInitialPageview: !0 }), ga("require", "urlChangeTracker", { fieldsObj: { dimension1: "virtual", shouldTrackUrlChange: function (e, a) { return e !== a } } });
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="WonderfulSubs">
    <meta property="fb:app_id" content="2103300303228684">
    <meta property="fb:pages" content="1468178876729959">
    <meta name="twitter:site" content="WonderfulSubs">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="WonderfulSubs | Anime Entertainment Paradise">
    <meta name="twitter:creator" content="@WonderfulSubs">
    <meta property="og:image" content="https://beta.wonderfulsubs.com/img/header.png">
    <meta property="og:title" content="WonderfulSubs - Anime Entertainment Paradise">
    <meta property="og:description" content="The best place on the web for all things Anime!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://beta.wonderfulsubs.com">
    <meta name="author" content="WonderfulSubs LLC">
    <meta name="keywords" content="anime, manga, japan, otaku, japanese culture, weeaboo">
    <meta name="description" content="The best place on the web for all things Anime!">

    <meta name="theme-color" content="#171717">
    <meta name="msapplication-TileColor" content="#ffffff">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#575757">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/picnic@6.5.1/picnic.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css" />
    <link rel="stylesheet" href="/css/native-toast.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/Home.css" />
    <link rel="stylesheet" href="/css/overrides.css" />
    <link rel="stylesheet" href="/css/Login.css" />
    <link rel="stylesheet" href="/css/Welcome.css" />
    <link rel="stylesheet" href="/css/Watch.css" />
    <link rel="stylesheet" href="/css/sidebar.css" />
    <link rel="stylesheet" href="/css/poster.css" />
    <link rel="stylesheet" href="/css/showcase.css" />
    <link rel="stylesheet" href="/css/player.css" />
    <link rel="stylesheet" href="/css/posts.css" />
    <link rel="stylesheet" href="/css/user.css" />
    <link rel="stylesheet" href="/css/music.css" />
    <link rel="stylesheet" href="/css/settings.css" />
    <link rel="stylesheet" href="https://vjs.zencdn.net/7.6.6/video-js.min.css" />
    <link rel="stylesheet" href="/css/vsg-skin.css" />
    <link rel="stylesheet" href="/css/icons.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Cabin+Condensed&display=swap" />

    <script>
        var polyfills = [
            { func: 'URL', url: '/js/ie-url-polyfill.js' },
            { func: 'IntersectionObserver', url: '/js/intersection-observer.js' }
        ];
        polyfills.forEach(function (pf) {
            if (typeof window[pf.func] !== 'function') {
                document.write('<script type="text/javascript" src="' + pf.url + '"><\/script>');
            }
        });
    </script>
    <script src="https://vjs.zencdn.net/7.6.6/video.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-youtube/2.6.0/Youtube.min.js"></script>
    <script src="/js/videojs-contrib-quality-levels.min.js"></script>
    <script src="/js/videojs-hls-quality-selector.min.js"></script>
    <script src="https://unpkg.com/mithril@2.0.4/mithril.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/markedjs/marked/lib/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.0.7/dist/purify.min.js"></script>
    <script src="/js/native-toast.js"></script>
    <script src="/js/helpers.js"></script>
    <script src="/js/poster.js"></script>
    <script src="/js/showcase.js"></script>
    <script src="/js/lists.js"></script>
    <script src="/js/sidebar.js"></script>
    <script src="/js/player.js"></script>
    <script src="/js/user.js"></script>
    <script src="/js/chatbox.js"></script>
    <script src="/js/music.js"></script>
    <script src="/js/settings.js"></script>
    <script src="/pages/Home.js"></script>
    <script src="/pages/Login.js"></script>
    <script src="/pages/Welcome.js"></script>
    <script src="/pages/Series.js"></script>
    <script src="/pages/Genre.js"></script>
    <script src="/pages/Watch.js"></script>
    <script src="/pages/Search.js"></script>
    <script src="/js/darkthemecss.js" async></script>
</head>

<body>
    <div class="header">
        <div class="nav-menu">
            <nav class="nav-menu-content">
                <div>
                    <a href="/" onclick="routeAnchor(event, '/')">
                        <img class="brand" src="/svg/logo.svg" />
                    </a>
                    <form class="nav-search" action="/search" onsubmit="getSearchResults(event)" acceptCharset="utf-8">
                        <label>
                            <input type="search" name="q" placeholder="Search..." autoComplete="off"
                                onsubmit="dismissKeyboard(event)" onclick="event.target.form.style['z-index'] = '2'"
                                onblur="event.target.form.style['z-index'] = ''">
                            <i class="icon-search" onclick="if(window.innerWidth >= 768){getSearchResults(event.target.parentElement, true);}"></i>
                        </label>
                    </form>
                    <div class="nav-buttons dropdown">
                        <button class="dropbtn"><label>&#9776;</label></button>
                        <div class="dropdown-content side-scroll animated faster">
                            <a href="/series" onclick="routeAnchor(event, '/series')" class="button">A-Z</a>
                            <a href="/genre" onclick="routeAnchor(event, '/genre')" class="button">Genre</a>
                            <a href="/users" onclick="routeAnchor(event, '/users')" class="button">Users</a>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </div>
    <div class="content-wrapper-container flex animated">
        <div id="root" class="content-wrapper animated three-fourth-1000"></div>
        <div id="mini-player"></div>
        <div id="sidebar" class="fourth-1000"></div>
    </div>
    <div id="settings-panel" class="panel-body animated faster lists slideInUp none"></div>
    <div id="user-panel" class="panel-body animated faster lists slideInUp none"></div>
    <div class="music-player full top-divider animated slideInUp faster none">
        <div id="music-panel" class="music-player-contents flex grow"></div>
    </div>
    <div class="bottom-bar top-divider full">
        <div class="flex">
            <div class="bottom-bar-button" onclick="showHideSettingsPanel()">
                <i class="icon-cog"></i>
                <div>Settings</div>
            </div>
            <div class="bottom-bar-button" onclick="showHideMusicPlayer()">
                <i class="icon-music"></i>
                <div>Music</div>
            </div>
            <div class="bottom-bar-button" onclick="showHideChatPanel()">
                <i class="icon-comment"></i>
                <div>Chat</div>
            </div>
            <div class="bottom-bar-button">
                <i class="icon-bell-alt"></i>
                <div>Notifications</div>
            </div>
            <div class="bottom-bar-button" onclick="showHideUserPanel()">
                <i class="icon-user-circle"></i>
                <div>User</div>
            </div>
        </div>
    </div>
    <div class="footer">
        <div>
            <div class="left">
                ©<span id="footer-year"> </span>WonderfulSubs LLC
                <br>
                Wikipe-tan: © 2006 Kasuga~jawiki / Wikimedia Commons / <a
                    href="https://creativecommons.org/licenses/by-sa/3.0/" target="_blank"
                    rel="nofollow noreferrer"><u>CC-BY-SA-3.0</u></a> / <a
                    href="https://www.gnu.org/licenses/fdl-1.3.html" target="_blank"
                    rel="nofollow noreferrer"><u>GFDL</u></a>. Eye color changed to yellow and/or mouth added
            </div>
        </div>
    </div>
    <script>
        var miniPlayerFrag = document.createDocumentFragment();
        m.mount(miniPlayerFrag, {
            view: function () {
                this.player = m(VideoPlayer, { options: { showTheaterToggle: true, disablePauseOnScroll: true } });
                return this.player;
            }
        });
        var WatchPlayer = {
            dom: miniPlayerFrag.vnodes[0].dom,
            player: miniPlayerFrag.vnodes[0].state.player.state.player
        };

        var root = document.getElementById('root');

        m.route.prefix = '';
        m.route(root, '/', {
            '/': Home,
            '/login': Login,
            '/signup': Welcome,
            '/series': Series,
            '/genre': Genre,
            // '/popular': SeriesFeed.popular,
            // '/updated': SeriesFeed.updated,
            '/search': Search,
            '/watch/:id': Watch,
        });

        var sidebarExists = document.querySelector('.sidebar-container');
        if (!sidebarExists) {
            m.mount(document.getElementById('sidebar'), Sidebar);
        }

        document.getElementById('footer-year').innerHTML = ' ' + (new Date()).getFullYear() + ' ';
    </script>
</body>

</html>